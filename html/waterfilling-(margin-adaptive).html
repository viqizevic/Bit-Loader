<html>
	<head>
        <meta charset="utf-8">
        <title>Waterfilling (Margin adaptive)</title>
        <link rel="stylesheet" href="src/style.css" media="screen">
        <script src="src/raphael.js"></script>
        <script src="src/g.raphael.js"></script>
        <script src="src/g.bar.js"></script>
        <script>
            window.onload = function () {
                var r = Raphael("holder"),
                    data = [[0.050, 0.059, 0.059, 0.100, 0.100, 0.337, 0.337, 1.812], [3.693, 3.628, 3.628, 3.314, 3.314, 1.517, 1.517, 0.000]],
                    fin = function() {
                    	this.flag = r.popup(this.bar.x, this.bar.y, this.bar.value || "0").insertBefore(this);
                    },
                    fout = function() {
                    	this.flag.animate({opacity:0}, 300, function() {this.remove();});
                    },
                    txtattr = { font: "18px sans-serif" };
                
                r.text(320, 15, "Waterfilling (Margin adaptive)").attr(txtattr);
                
                r.barchart(10, 10, 620, 530, data, {stacked: true}).hover(fin, fout);
            };
        </script>
    	<style>.pkt_added {text-decoration:none !important;}</style>
    </head>
    <body class="raphael" id="g.raphael.dmitry.baranovskiy.com">
        <div id="holder"></div>
    </body>
</html>
